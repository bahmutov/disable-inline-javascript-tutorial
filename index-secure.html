<!DOCTYPE html>
<html>
<head>
  <title>Secure page</title>
  <meta http-equiv="Content-Security-Policy" content="script-src https://code.jquery.com 'self';">
  <style>
    textarea {
      width: 600px;
      height: 80px;
      border-radius: 5px;
      font-size: large;
    }
    button {
      font-size: large;
      font-weight: bold;
    }
    #linkGoodInput {
      background-color: lightGreen;
    }
    #linkBadInput {
      background-color: lightPink;
    }
  </style>
  <script src="https://code.jquery.com/jquery-1.10.2.js"></script>
</head>
<body>
  <p>For comparison, see the same page but without CSP <a href="index-secure.html">index.html</a></p>

  <h1>This page does NOT allow inline JavaScript using CSP</h1>

  <h2>Attack example</h2>
  <p>Good feature - allows the user to enter text markup and then add it to the DOM.
  The text area is read-only for this demo. Click the button below to link this text into
  the page. Notice the markup is respected.</p>
  <textarea id="goodInput"
    readonly="readonly">this is a <strong>tag</strong> and this is <em>emphasized</em>.</textarea>
  <br>
  <button id="linkGoodInput">Link good input to DOM</button>
  </p>

  <p>Good feature used by an evil attacker</p>
  <textarea id="badInput"
    readonly="readonly">this is a <strong>tag</strong> and my script.
    Run it from your page <script>alert('You have been hacked')</script>.</textarea>
  <br>
  <button id="linkBadInput">Link bad input to DOM</button>
  </p>

  <script src="app.js"></script>
</body>
</html>
